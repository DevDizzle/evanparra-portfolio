<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Business Technology Consultant | St. Augustine, FL | Evan Parra</title>
  <meta name="description" content="Evan Parra is a Business Technologist helping local businesses in St. Johns County with web development, process automation, and data insights. Practical tech solutions for SMBs in St. Augustine, Nocatee, and Ponte Vedra." />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-E4DDT4JFSM"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-E4DDT4JFSM'); // GA4
    gtag('config', 'AW-17649812451'); // Google Ads

    // Google Ads click conversion helper – redirect happens in callback
    function gtag_report_conversion(url) {
      const callback = function () {
        if (typeof url !== 'undefined') {
          window.open(url, '_blank');
        }
      };
      gtag('event', 'conversion', {
        send_to: 'AW-17649812451/6QsECOjn0awbEOOHi-BB',
        value: 1.0,
        currency: 'USD',
        event_callback: callback
      });
    }
  </script>

  <!-- LocalBusiness structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Evan Parra - Business Technology Consulting",
    "description": "A Business Technologist providing practical tech solutions, including web development, process automation, and data insights for local businesses in St. Johns County.",
    "url": "https://www.evanparra.ai/",
    "telephone": "+19046156418",
    "email": "admin@evanparra.ai",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "St. Augustine",
      "addressRegion": "FL",
      "addressCountry": "US"
    },
    "areaServed": [
      {"@type": "City", "name": "St. Augustine"},
      {"@type": "City", "name": "Nocatee"},
      {"@type": "City", "name": "Ponte Vedra"},
      {"@type": "AdministrativeArea", "name": "St. Johns County"}
    ]
  }
  </script>

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.evanparra.ai/" />
  <meta property="og:title" content="Business Technology Consultant | St. Augustine, FL | Evan Parra" />
  <meta property="og:description" content="Practical tech solutions for local businesses, including web development, automation, and data insights." />
  <meta property="og:image" content="https://www.evanparra.ai/assets/evan-parra-og-image.png" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://www.evanparra.ai/" />
  <meta name="twitter:title" content="Business Technology Consultant | St. Augustine, FL | Evan Parra" />
  <meta name="twitter:description" content="Practical tech solutions for local businesses, including web development, automation, and data insights." />
  <meta name="twitter:image" content="https://www.evanparra.ai/assets/evan-parra-og-image.png" />

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Tailwind (Play CDN; best for dev) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        container: { center: true, padding: '1rem' },
        extend: {
          fontFamily: { sans: ['Inter','ui-sans-serif','system-ui','sans-serif'] }
        }
      }
    }
  </script>

  <!-- React 18 UMD + Babel -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/react-router-dom@6/umd/react-router-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    html, body { height: 100%; }
    body { font-feature-settings: "rlig" 1, "calt" 1; }
  </style>
</head>
<body class="bg-gray-50 text-slate-800 font-sans antialiased">
  <div id="root"></div>

  <script type="text/babel" data-presets="env,react">
    const { useState, useCallback, useRef, forwardRef, useEffect } = React;
    const { HashRouter, Routes, Route, Link, useParams, useLocation } = ReactRouterDOM;

    const servicesData = [
      {
        slug: 'modern-web-development',
        title: 'Modern Web Development',
        icon: 'fa-solid fa-window-maximize',
        summary:
          'Your website should be your hardest-working employee. I build professional, mobile-friendly sites that capture leads, tell your story, and make it easy for customers to do business with you.',
        detail: {
          lead:
            'Your website is the first impression for people searching for St. Augustine, Nocatee, or Ponte Vedra services. I build fast, accessible, and brand-aligned sites that convert casual visitors into booked jobs.',
          benefits: [
            'Conversion-focused layouts with clear storytelling, on-page SEO, and LocalBusiness schema so you show up for nearby searches.',
            'Mobile-first builds using modern frameworks, optimized for accessibility and lightning-fast load times.',
            'Integrated lead capture, chat, and analytics so you know exactly which campaigns create revenue.'
          ],
          outcomes: [
            'Launch-ready pages that load in under two seconds on modern mobile devices.',
            'More quote requests and consultations thanks to persuasive messaging and CTAs on every key page.',
            'Editable content sections so your team can update specials and announcements without calling a developer.'
          ],
          process: [
            {
              title: 'Discovery & audit',
              description:
                'We review your current website, analytics, and brand goals to map the structure and content needed to hit your growth targets.'
            },
            {
              title: 'Design & content alignment',
              description:
                'I translate your story into wireframes and polished mockups, collaborate on copy, and validate the experience on desktop and mobile.'
            },
            {
              title: 'Build, launch & training',
              description:
                'I develop the site, connect essential tools, handle QA, and deliver training so you feel confident maintaining your new presence.'
            }
          ],
          localFocus:
            'Whether you are attracting tourists in downtown St. Augustine or serving growing neighborhoods in Nocatee, every page is tailored to your audience with messaging, photography, and calls-to-action that feel local and trustworthy.',
          closing:
            'Ready to refresh your digital storefront? Let’s map out the pages, copy, and integrations that will bring in more of the right customers.'
        }
      },
      {
        slug: 'payment-and-booking-integration',
        title: 'Payment & Booking Integration',
        icon: 'fa-solid fa-credit-card',
        summary:
          'Stop chasing payments and manually scheduling appointments. I\'ll integrate secure, reliable payment and booking systems that save you time and get you paid faster.',
        detail: {
          lead:
            'Stop chasing invoices and phone tags. I streamline how customers schedule, sign, and pay so your day runs smoothly.',
          benefits: [
            'Secure online checkout experiences using Stripe, Square, or GoCardless tailored to your business model.',
            'Booking flows that sync with Google Calendar, Calendly, Acuity, or your practice management tool—including automated reminders.',
            'Back-office automations that push transactions into QuickBooks, your CRM, or email marketing list without manual entry.'
          ],
          outcomes: [
            'Clients can reserve their spot or pay deposits in under two minutes from any device.',
            'Automatic reminders and confirmations reduce no-shows and follow-up calls.',
            'Accurate financial records that make reconciliation and reporting painless.'
          ],
          process: [
            {
              title: 'Map your customer journey',
              description:
                'We document how people currently request services, confirm appointments, and pay so we can eliminate bottlenecks.'
            },
            {
              title: 'Configure & test integrations',
              description:
                'I set up payment links, booking widgets, and automations, then run through real-world scenarios to ensure everything works.'
            },
            {
              title: 'Launch with team training',
              description:
                'You receive clear instructions and support materials so staff can confidently manage the new systems.'
            }
          ],
          localFocus:
            'Perfect for busy service pros across St. Johns County—from home services in Ponte Vedra to wellness studios in St. Augustine—who need reliable cash flow and predictable schedules.',
          closing:
            'Let’s make it effortless for customers to book and pay you while you focus on delivering great service.'
        }
      },
      {
        slug: 'process-automation',
        title: 'Process Automation',
        icon: 'fa-solid fa-gears',
        summary:
          'Tired of repetitive, manual tasks? I\'ll connect your essential business tools to automate workflows, eliminate data entry, and free up your team for more important work.',
        detail: {
          lead:
            'Manual admin work steals time from serving customers. I automate the repetitive tasks that slow your team down.',
          benefits: [
            'Connect tools like your CRM, forms, spreadsheets, and messaging apps so information flows automatically.',
            'Trigger-based notifications, approvals, and task assignments that keep everyone aligned without constant check-ins.',
            'Operational dashboards that reveal bottlenecks and status in real time.'
          ],
          outcomes: [
            'Hours back each week as duplicate data entry and copy/paste work disappears.',
            'Fewer mistakes because data is captured once and synced everywhere it needs to go.',
            'A team that always knows the next step thanks to clear, automated workflows.'
          ],
          process: [
            {
              title: 'Identify high-impact opportunities',
              description:
                'We audit your current processes to pinpoint where automation can save the most time or reduce risk.'
            },
            {
              title: 'Build and test workflows',
              description:
                'I implement automations using platforms like Make, Zapier, or custom scripts, then stress-test them with your team.'
            },
            {
              title: 'Launch with monitoring',
              description:
                'I provide documentation, dashboards, and refinement support to ensure the automations keep delivering value.'
            }
          ],
          localFocus:
            'From field services and logistics to boutique retailers, I craft solutions that fit the unique ways St. Johns County businesses operate.',
          closing:
            'Tell me where manual work is stacking up, and we’ll design automations that give your staff breathing room.'
        }
      },
      {
        slug: 'data-insights-and-dashboards',
        title: 'Data Insights & Dashboards',
        icon: 'fa-solid fa-chart-pie',
        summary:
          'Your business data holds the answers to growth. I\'ll build simple, interactive dashboards that track your key metrics and turn raw numbers into clear, actionable insights.',
        detail: {
          lead:
            'You have data scattered across POS systems, accounting tools, and spreadsheets. I centralize it into dashboards that drive confident decisions.',
          benefits: [
            'Unified data pipelines pulling from QuickBooks, Square, Google Analytics, HubSpot, and other sources you rely on.',
            'Interactive dashboards built in Looker Studio, Power BI, or custom web apps with filters your leaders actually use.',
            'Automated scorecards and alerts that surface trends and issues before they become problems.'
          ],
          outcomes: [
            'Weekly or daily snapshots that highlight revenue, pipeline, and operational KPIs in one place.',
            'The ability to double-click into product lines, locations, or team performance without waiting on a report.',
            'Less time wrangling spreadsheets and more time acting on insights.'
          ],
          process: [
            {
              title: 'Data audit & goal setting',
              description:
                'We define the questions you need to answer and inventory every system that holds relevant data.'
            },
            {
              title: 'Integrate & model',
              description:
                'I clean and connect the datasets, design the metrics, and ensure everything stays in sync automatically.'
            },
            {
              title: 'Dashboard rollout & coaching',
              description:
                'I build the dashboards, walk your team through them, and establish a rhythm for reviewing insights.'
            }
          ],
          localFocus:
            'Ideal for multi-location restaurants, professional services firms, and nonprofits around St. Augustine that need to understand performance quickly.',
          closing:
            'Let’s turn disconnected reports into a living dashboard that gives you clarity every Monday morning.'
        }
      },
      {
        slug: 'ai-for-business-efficiency',
        title: 'AI for Business Efficiency',
        icon: 'fa-solid fa-brain',
        summary:
          'AI is more than just hype. I can build custom AI-powered tools to solve specific challenges, giving you a competitive edge.',
        detail: {
          lead:
            'AI can augment your team when it’s tailored to the way you work. I build practical AI tools that deliver measurable time savings.',
          benefits: [
            'Custom AI assistants that handle intake questions, summarize calls, or draft responses using your brand voice.',
            'Secure document and knowledge base search so staff find answers instantly.',
            'Predictive insights that flag trends in customer feedback, inventory, or service delivery.'
          ],
          outcomes: [
            'Faster response times and happier customers because routine questions are handled automatically.',
            'Teams who spend less time on paperwork and more time on strategic work.',
            'Early warnings about changes in demand, sentiment, or risk so you can adapt.'
          ],
          process: [
            {
              title: 'Use-case discovery',
              description:
                'We identify the repetitive conversations or decisions that AI can enhance without compromising quality.'
            },
            {
              title: 'Prototype & validation',
              description:
                'I configure or build a proof-of-concept, test it with real data, and gather feedback from your staff.'
            },
            {
              title: 'Deploy with guardrails',
              description:
                'We integrate the solution into your tools, set permissions, and create policies so the AI remains secure and effective.'
            }
          ],
          localFocus:
            'From tourism-driven hospitality groups to healthcare practices in Ponte Vedra, I deliver AI that respects compliance needs while delivering a competitive edge.',
          closing:
            'Bring me the process you wish you could hand to a digital assistant and we’ll design an AI workflow that truly helps.'
        }
      }
    ];

    const SectionHeading = ({ eyebrow, title, body, align = 'center' }) => {
      const alignClass = align === 'left' ? 'text-left' : align === 'right' ? 'text-right' : 'text-center';
      return (
        <header className={alignClass + " max-w-3xl mx-auto mb-12 px-2"}>
          {eyebrow && <p className="text-sm uppercase tracking-widest text-blue-600 font-semibold mb-3">{eyebrow}</p>}
          <h2 className="text-3xl md:text-4xl font-extrabold text-slate-900 leading-tight">{title}</h2>
          {body && <p className="mt-4 text-lg text-slate-600 leading-relaxed">{body}</p>}
        </header>
      );
    };

    const Hero = ({ onCtaClick }) => (
      <section className="bg-gradient-to-r from-blue-600 to-blue-800 text-white">
        <div className="container py-20 md:py-24">
          <div className="text-center max-w-4xl mx-auto">
            <h1 className="text-4xl md:text-5xl font-extrabold leading-tight md:leading-tight">
              Stop Wrestling With Technology. Start Growing Your Business.
            </h1>
            <p className="mt-5 text-lg/relaxed md:text-xl/relaxed opacity-90 max-w-3xl mx-auto">
              I build practical tech solutions for local businesses in St. Johns County. From modern websites to process automation, I handle the tech so you can focus on what you do best: serving your customers.
            </p>
            <div className="mt-10 flex justify-center">
              <button
                onClick={onCtaClick}
                className="bg-white text-blue-700 px-8 py-3 rounded-xl hover:bg-gray-100 font-semibold shadow-lg w-full sm:w-auto"
              >
                Learn More
              </button>
            </div>
          </div>
        </div>
      </section>
    );

    const CaseStudyCarousel = () => {
      const [current, setCurrent] = useState(0);

      const caseStudies = [
        {
          eyebrow: 'ProfitScout for Options Traders',
          body: 'A client was drowning in complex data, spending days on manual research that led to missed opportunities. The challenge was to automate this analysis and deliver clear, actionable insights instantly, turning data overload into a key advantage.',
          before: ['Days of manual data gathering.', 'Missed opportunities due to slow analysis.', 'Decisions based on incomplete information.'],
          after: ['Under 5 minutes for a complete, AI-driven analysis.', 'Clear signals on the highest-scoring market setups.', 'Confident, data-driven decisions.'],
          insightTitle: 'How ProfitScout Delivers Real Insight',
          insightBody: 'It’s an AI-powered tool that automatically analyzes thousands of data points to provide a clear, forward-looking view of stocks and options, allowing traders to make confident, data-driven decisions.',
          insightPoints: [
            '**Analyzes the Full Picture:** It processes everything from 10-K filings and earnings calls to options chain data and market sentiment.',
            '**Provides a Nuanced View:** Instead of a simple "buy" or "sell" rating, it gives a five-tier analysis (from "Strongly Bullish" to "Strongly Bearish") with a summary of why.',
            '**Highlights Top Opportunities:** The Confluence Dashboard shows where stock and options data align, pointing to the most promising setups.'
          ]
        },
        {
          eyebrow: 'Coastal Waste & Recycling Automation',
          body: 'A local industrial client was losing hours to manual, paper-based inventory tracking. This caused inaccurate reporting and operational delays. I built a simple mobile web app that digitized their workflow, dramatically increasing efficiency and data accuracy.',
          before: ['Hours lost to manual data entry.', 'Inaccurate understanding of throughput.', 'Delayed reporting for management.'],
          after: ['~70% reduction in processing time.', 'Centralized, real-time inventory data.', 'Improved data quality and operational efficiency.'],
          insightTitle: 'How the Web App Solved the Problem',
          insightBody: "I developed the 'Coastal Inventory Logger,' an internal web app that allows field teams to log data from their phones, automating the entire workflow.",
          insightPoints: [
            '**Simple Mobile Interface:** Designed for quick, easy data entry on the go, reducing errors and saving time.',
            '**Centralized Database:** All data is fed into a single source of truth, providing managers with instant, accurate reports.',
            '**Automated Alerts:** The system flags low-inventory items automatically, preventing shortages and improving planning.'
          ]
        },
        {
          eyebrow: 'AI for Skin Lesion Analysis',
          body: 'A challenge in the medical field is the time-consuming and subjective analysis of complex images. To solve this, I developed a secure, AI-powered tool that provides objective, data-driven analysis to support the critical judgment of medical professionals.',
          before: ['Time-consuming manual review of images.', 'Reliance on subjective visual assessment.', 'Lack of immediate, data-driven feedback.'],
          after: ['Instant AI analysis of uploaded skin lesion images.', 'Objective classification with confidence scores.', 'Heatmap overlays to pinpoint areas of concern.'],
          insightTitle: 'How AI Supports Clinical Judgment',
          insightBody: "This secure, HIPAA-compliant web app uses a custom-trained AI model to analyze dermoscopic images, providing clinicians with data-driven insights to support their diagnosis.",
          insightPoints: [
            "**Custom-Trained AI Model:** Deployed on Google Cloud's Vertex AI for high accuracy in lesion classification.",
            '**Secure & Compliant:** Built with HIPAA compliance in mind, featuring secure authentication and encrypted data transmission.',
            '**Actionable Visual Feedback:** Provides not just a classification, but also heatmaps that visually guide professionals to the most diagnostically relevant regions.'
          ]
        }
      ];

      const nextSlide = () => setCurrent((c) => (c === caseStudies.length - 1 ? 0 : c + 1));
      const prevSlide = () => setCurrent((c) => (c === 0 ? caseStudies.length - 1 : c - 1));

      const study = caseStudies[current];

      return (
        <section id="case-studies" className="bg-white">
          <div className="container py-20 md:py-24">
            <SectionHeading eyebrow="My Work" title="Common Problems, Practical Solutions" />

            <div className="relative">
              <div className="bg-gray-50 border border-slate-200 rounded-2xl shadow-lg p-6 md:p-10 lg:p-12">
                <div className="grid lg:grid-cols-2 gap-10 lg:gap-12 items-start lg:items-center">
                  <div className="space-y-6">
                    <h3 className="text-2xl font-bold text-blue-600">{study.eyebrow}</h3>
                    <p className="text-slate-700">{study.body}</p>

                    <div className="grid sm:grid-cols-2 gap-6">
                      <div>
                        <h4 className="text-lg font-bold text-rose-600 mb-2">Before</h4>
                        <ul className="space-y-2 text-slate-700">
                          {study.before.map((item) => (
                            <li key={item} className="flex items-start gap-2">
                              <span className="mt-1 text-rose-500">✖</span><span>{item}</span>
                            </li>
                          ))}
                        </ul>
                      </div>
                      <div>
                        <h4 className="text-lg font-bold text-emerald-600 mb-2">After</h4>
                        <ul className="space-y-2 text-slate-700">
                          {study.after.map((item) => (
                            <li key={item} className="flex items-start gap-2">
                              <span className="mt-1 text-emerald-500">✔</span><span>{item}</span>
                            </li>
                          ))}
                        </ul>
                      </div>
                    </div>
                  </div>

                  <div className="space-y-5 bg-white p-6 md:p-8 rounded-xl border">
                    <h3 className="text-2xl font-bold text-slate-900">{study.insightTitle}</h3>
                    <p className="text-slate-700">{study.insightBody}</p>
                    <ul className="space-y-3 text-slate-800">
                      {study.insightPoints.map((point) => {
                        const bold = point.split('**');
                        return (
                          <li key={point} className="flex items-start gap-3">
                            <span className="text-blue-500 mt-1">✔</span>
                            <div>
                              {bold.length >= 3 ? (
                                <>
                                  <strong>{bold[1].replace(/:$/, '')}:</strong>
                                  <span> {point.replace(/\*\*/g, '').replace(/^.*?:\s?/, '')}</span>
                                </>
                              ) : (
                                <span>{point.replace(/\*\*/g, '')}</span>
                              )}
                            </div>
                          </li>
                        );
                      })}
                    </ul>
                  </div>
                </div>
              </div>

              {/* Carousel controls */}
              <div className="absolute inset-x-0 -bottom-6 flex items-center justify-center gap-3">
                <button onClick={prevSlide} aria-label="Previous" className="bg-white border rounded-full w-10 h-10 flex items-center justify-center shadow hover:bg-gray-100">❮</button>
                <button onClick={nextSlide} aria-label="Next" className="bg-white border rounded-full w-10 h-10 flex items-center justify-center shadow hover:bg-gray-100">❯</button>
              </div>
            </div>

          </div>
        </section>
      );
    };

    const Services = ({ items }) => {
      return (
        <section id="services" className="bg-gray-50">
          <div className="container py-20 md:py-24">
            <SectionHeading
              eyebrow="Services"
              title="Solutions to Help Your Business Thrive"
              body="Whether you need to modernize your online presence, streamline operations, or empower your team, I offer practical solutions tailored to your specific goals."
            />
            <div className="grid gap-6 sm:gap-8 md:grid-cols-2 xl:grid-cols-3">
              {items.map((service) => (
                <article key={service.slug} className="bg-white border border-slate-200 rounded-2xl p-6 md:p-8 shadow hover:shadow-lg transition-shadow flex flex-col">
                  <div className="w-12 h-12 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-xl mb-4">
                    <i className={service.icon} aria-hidden="true"></i>
                  </div>
                  <h3 className="text-xl font-bold text-slate-900 mb-2">{service.title}</h3>
                  <p className="text-slate-700 leading-relaxed flex-1">{service.summary}</p>
                  <Link
                    to={`/services/${service.slug}`}
                    className="mt-6 inline-flex items-center gap-2 text-sm font-semibold text-blue-700 hover:text-blue-900 transition"
                    aria-label={`Learn more about ${service.title}`}
                  >
                    Learn More
                    <span aria-hidden="true">→</span>
                  </Link>
                </article>
              ))}
            </div>
          </div>
        </section>
      );
    };

    const SiteHeader = ({ children }) => (
      <header className="bg-white/90 backdrop-blur border-b border-slate-200 sticky top-0 z-40">
        <div className="container py-4 flex items-center justify-between gap-4">
          <Link to="/" className="text-lg font-extrabold text-slate-900 tracking-tight">Evan Parra</Link>
          {children ? (
            <nav className="flex items-center gap-5">
              {React.Children.map(children, (child, index) =>
                React.isValidElement(child) ? React.cloneElement(child, { key: index }) : child
              )}
            </nav>
          ) : null}
        </div>
      </header>
    );

    const ScrollManager = () => {
      const location = useLocation();

      useEffect(() => {
        if (location.hash) {
          const rawHash = location.hash.replace('#', '');
          let targetId = rawHash;
          try {
            targetId = decodeURIComponent(rawHash);
          } catch (error) {
            console.warn('Unable to decode hash segment', error);
          }

          if (targetId) {
            const element = document.getElementById(targetId);
            if (element) {
              setTimeout(() => {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
              }, 0);
              return;
            }
          }
        }

        window.scrollTo({ top: 0, behavior: 'auto' });
      }, [location.pathname, location.hash]);

      return null;
    };

    const createCaptcha = () => {
      const first = Math.floor(Math.random() * 8) + 1;
      const second = Math.floor(Math.random() * 8) + 1;
      return { first, second, answer: first + second };
    };

    const Booking = forwardRef((props, ref) => {
      const [formData, setFormData] = useState({
        name: '',
        phone: '',
        email: '',
        description: '',
        captcha: ''
      });
      const [captcha, setCaptcha] = useState(createCaptcha);
      const [errors, setErrors] = useState({});
      const [status, setStatus] = useState(null);
      const [isSubmitting, setIsSubmitting] = useState(false);

      const handleChange = (event) => {
        const { name, value } = event.target;
        setFormData((prev) => ({ ...prev, [name]: value }));
        setErrors((prev) => ({ ...prev, [name]: undefined }));
      };

      const resetForm = () => {
        setFormData({ name: '', phone: '', email: '', description: '', captcha: '' });
        setCaptcha(createCaptcha());
        setErrors({});
      };

      const validate = () => {
        const newErrors = {};
        if (!formData.name.trim()) newErrors.name = 'Please enter your name.';
        if (!formData.phone.trim()) newErrors.phone = 'Please provide a phone number.';
        if (!formData.email.trim()) {
          newErrors.email = 'An email address is required.';
        } else if (!/^\S+@\S+\.\S+$/.test(formData.email.trim())) {
          newErrors.email = 'Enter a valid email address.';
        }
        if (!formData.description.trim()) newErrors.description = 'Let me know a bit about your project or challenges.';
        if (!formData.captcha.trim()) {
          newErrors.captcha = 'Solve the captcha to verify you are human.';
        } else if (Number.parseInt(formData.captcha, 10) !== captcha.answer) {
          newErrors.captcha = 'Captcha answer is incorrect. Please try again.';
          setCaptcha(createCaptcha());
          setFormData((prev) => ({ ...prev, captcha: '' }));
        }

        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
      };

      const handleSubmit = async (event) => {
        event.preventDefault();
        setStatus(null);

        if (!validate()) return;

        setIsSubmitting(true);
        try {
          const response = await fetch('https://formsubmit.co/ajax/admin@evanparra.ai', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              Accept: 'application/json'
            },
            body: JSON.stringify({
              Name: formData.name,
              Phone: formData.phone,
              Email: formData.email,
              Description: formData.description
            })
          });

          if (!response.ok) throw new Error('Form submission failed');

          setStatus({ type: 'success', message: 'Thanks for reaching out! I will be in touch within one business day.' });
          resetForm();
        } catch (error) {
          console.error(error);
          setStatus({ type: 'error', message: 'Something went wrong while sending your message. Please try again in a moment or email me directly at admin@evanparra.ai.' });
        } finally {
          setIsSubmitting(false);
        }
      };

      return (
        <section ref={ref} id="booking" className="bg-white">
          <div className="container py-20 md:py-24">
            <SectionHeading
              eyebrow="Book a Call"
              title="Ready to Grow Your Business?"
              body="Grab a free 30-minute Insight Audit. We'll review your current challenges, identify opportunities for automation, and map out the steps to unlock faster, smarter growth."
            />
            <div className="max-w-4xl mx-auto">
              <div className="flex justify-center mb-10">
                <img
                  src="/assets/evan-parra-headshot.png"
                  alt="Evan Parra, a business technology consultant in St. Augustine, FL"
                  className="w-36 h-36 md:w-44 md:h-44 rounded-full shadow-lg object-cover"
                />
              </div>
              <div className="bg-gray-50 border border-slate-200 rounded-2xl shadow-lg p-6 md:p-10">
                <div className="max-w-2xl mx-auto text-center mb-8">
                  <h3 className="text-2xl md:text-3xl font-extrabold text-slate-900 mb-4">Tell Me About Your Project</h3>
                  <p className="text-lg text-slate-600">
                    I'm a real person, right here in St. Augustine, passionate about helping local businesses succeed. Share a few details below and I'll follow up to schedule your free consultation.
                  </p>
                </div>
                <form className="grid gap-6" onSubmit={handleSubmit} noValidate>
                  <div className="grid gap-2 text-left">
                    <label htmlFor="name" className="text-sm font-semibold text-slate-700 uppercase tracking-wider">Name</label>
                    <input
                      id="name"
                      name="name"
                      type="text"
                      value={formData.name}
                      onChange={handleChange}
                      className={`block w-full rounded-xl border px-4 py-3 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600 ${errors.name ? 'border-red-400 focus:ring-red-500 focus:border-red-500' : 'border-slate-200'}`}
                      placeholder="Jane Smith"
                      aria-invalid={Boolean(errors.name)}
                      aria-describedby={errors.name ? 'name-error' : undefined}
                    />
                    {errors.name && (
                      <p id="name-error" className="text-sm text-red-600">{errors.name}</p>
                    )}
                  </div>
                  <div className="grid gap-2 text-left">
                    <label htmlFor="phone" className="text-sm font-semibold text-slate-700 uppercase tracking-wider">Phone</label>
                    <input
                      id="phone"
                      name="phone"
                      type="tel"
                      value={formData.phone}
                      onChange={handleChange}
                      className={`block w-full rounded-xl border px-4 py-3 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600 ${errors.phone ? 'border-red-400 focus:ring-red-500 focus:border-red-500' : 'border-slate-200'}`}
                      placeholder="(904) 555-1234"
                      aria-invalid={Boolean(errors.phone)}
                      aria-describedby={errors.phone ? 'phone-error' : undefined}
                    />
                    {errors.phone && (
                      <p id="phone-error" className="text-sm text-red-600">{errors.phone}</p>
                    )}
                  </div>
                  <div className="grid gap-2 text-left">
                    <label htmlFor="email" className="text-sm font-semibold text-slate-700 uppercase tracking-wider">Email</label>
                    <input
                      id="email"
                      name="email"
                      type="email"
                      value={formData.email}
                      onChange={handleChange}
                      className={`block w-full rounded-xl border px-4 py-3 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600 ${errors.email ? 'border-red-400 focus:ring-red-500 focus:border-red-500' : 'border-slate-200'}`}
                      placeholder="you@yourcompany.com"
                      aria-invalid={Boolean(errors.email)}
                      aria-describedby={errors.email ? 'email-error' : undefined}
                    />
                    {errors.email && (
                      <p id="email-error" className="text-sm text-red-600">{errors.email}</p>
                    )}
                  </div>
                  <div className="grid gap-2 text-left">
                    <label htmlFor="description" className="text-sm font-semibold text-slate-700 uppercase tracking-wider">Project Details</label>
                    <textarea
                      id="description"
                      name="description"
                      rows="4"
                      value={formData.description}
                      onChange={handleChange}
                      className={`block w-full rounded-xl border px-4 py-3 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600 ${errors.description ? 'border-red-400 focus:ring-red-500 focus:border-red-500' : 'border-slate-200'}`}
                      placeholder="Tell me about your current challenges or what you'd like to accomplish."
                      aria-invalid={Boolean(errors.description)}
                      aria-describedby={errors.description ? 'description-error' : undefined}
                    ></textarea>
                    {errors.description && (
                      <p id="description-error" className="text-sm text-red-600">{errors.description}</p>
                    )}
                  </div>
                  <div className="grid gap-2 text-left">
                    <label htmlFor="captcha" className="text-sm font-semibold text-slate-700 uppercase tracking-wider">Spam Check</label>
                    <div className="flex flex-col sm:flex-row sm:items-center gap-3">
                      <div className="flex-1">
                        <input
                          id="captcha"
                          name="captcha"
                          type="text"
                          inputMode="numeric"
                          value={formData.captcha}
                          onChange={handleChange}
                          className={`block w-full rounded-xl border px-4 py-3 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600 ${errors.captcha ? 'border-red-400 focus:ring-red-500 focus:border-red-500' : 'border-slate-200'}`}
                          placeholder={`${captcha.first} + ${captcha.second} = ?`}
                          aria-invalid={Boolean(errors.captcha)}
                          aria-describedby={errors.captcha ? 'captcha-error' : undefined}
                        />
                      </div>
                      <div className="text-sm font-semibold text-slate-700 whitespace-nowrap">
                        {captcha.first} + {captcha.second} = ?
                      </div>
                      <button
                        type="button"
                        onClick={() => {
                          setCaptcha(createCaptcha());
                          setFormData((prev) => ({ ...prev, captcha: '' }));
                        }}
                        className="text-sm font-semibold text-blue-700 hover:text-blue-900"
                      >
                        Refresh
                      </button>
                    </div>
                    {errors.captcha && (
                      <p id="captcha-error" className="text-sm text-red-600">{errors.captcha}</p>
                    )}
                  </div>
                  <div className="flex flex-col gap-4">
                    <button
                      type="submit"
                      className="inline-flex items-center justify-center bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold text-lg shadow-lg hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 focus:ring-offset-gray-50 disabled:opacity-70 disabled:cursor-not-allowed"
                      disabled={isSubmitting}
                    >
                      {isSubmitting ? 'Sending...' : 'Submit My Request'}
                    </button>
                    <p className="text-sm text-slate-500 text-center">
                      I respect your privacy. Your details will only be used to respond to your inquiry.
                    </p>
                    {status && (
                      <p
                        className={`text-sm text-center font-medium ${status.type === 'success' ? 'text-green-600' : 'text-red-600'}`}
                        role="status"
                        aria-live="polite"
                      >
                        {status.message}
                      </p>
                    )}
                  </div>
                </form>
              </div>
            </div>
          </div>
        </section>
      );
    });

    const Footer = () => (
      <footer className="bg-gray-900 text-white">
        <div className="container py-8">
          <div className="flex flex-col md:flex-row md:items-center md:justify-between gap-4 text-sm text-slate-400">
            <p>&copy; {new Date().getFullYear()} Evan R. Parra. Serving St. Johns County, FL.</p>
            <div className="flex items-center gap-4 justify-center md:justify-end">
              <a href="mailto:admin@evanparra.ai" className="hover:text-white transition" aria-label="Email Evan">admin@evanparra.ai</a>
              <span className="text-slate-600 hidden md:inline" aria-hidden="true">•</span>
              <a href="https://www.linkedin.com/in/evanparra/" className="hover:text-white transition" aria-label="LinkedIn profile">LinkedIn</a>
            </div>
          </div>
        </div>
      </footer>
    );

    const NotFoundPage = () => {
      const navLinkClasses =
        'inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 focus-visible:ring-offset-white rounded';

      return (
        <div className="min-h-screen flex flex-col bg-gray-50">
          <SiteHeader>
            <Link to="/" className={navLinkClasses}>
              Back to Homepage
            </Link>
            <Link to="/#services" className={navLinkClasses}>
              View Services
            </Link>
          </SiteHeader>
          <main className="flex-1 flex items-center">
            <div className="container py-24 text-center max-w-3xl">
              <p className="text-sm uppercase tracking-widest text-blue-600 font-semibold">404</p>
              <h1 className="mt-4 text-3xl md:text-4xl font-extrabold text-slate-900">We couldn’t find that page.</h1>
              <p className="mt-4 text-lg text-slate-600 leading-relaxed">
                The page you requested doesn’t exist. Try heading back to the homepage or explore the services I offer.
              </p>
              <div className="mt-8 flex flex-col sm:flex-row gap-4 justify-center">
                <Link
                  to="/"
                  className="inline-flex items-center justify-center bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:bg-blue-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 focus-visible:ring-offset-white"
                >
                  Return Home
                </Link>
                <Link
                  to="/#services"
                  className="inline-flex items-center justify-center px-6 py-3 rounded-xl font-semibold border border-slate-300 text-slate-800 hover:border-blue-600 hover:text-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 focus-visible:ring-offset-white"
                >
                  View Services
                </Link>
              </div>
            </div>
          </main>
          <Footer />
        </div>
      );
    };

    const ServiceDetailPage = () => {
      const { slug } = useParams();
      const service = servicesData.find((item) => item.slug === slug);

      if (!service) {
        return <NotFoundPage />;
      }

      const navLinkClasses =
        'inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 focus-visible:ring-offset-white rounded';

      return (
        <div className="min-h-screen flex flex-col bg-gray-50">
          <SiteHeader>
            <Link to="/" className={navLinkClasses}>
              <span aria-hidden="true">←</span>
              Back to Homepage
            </Link>
            <Link to="/#services" className={navLinkClasses}>
              View All Services
            </Link>
            <Link to="/#booking" className={navLinkClasses}>
              Book a Call
            </Link>
          </SiteHeader>
          <main className="flex-1">
            <section className="bg-white border-b border-slate-200">
              <div className="container py-16 md:py-20">
                <p className="text-sm uppercase tracking-widest text-blue-600 font-semibold mb-4">Service Detail</p>
                <h1 className="text-3xl md:text-4xl font-extrabold text-slate-900 leading-tight">{service.title}</h1>
                <p className="mt-6 text-lg text-slate-600 leading-relaxed max-w-3xl">{service.detail.lead}</p>
              </div>
            </section>
            <section className="bg-gray-50">
              <div className="container py-16 md:py-20 space-y-16">
                <div>
                  <h2 className="text-2xl md:text-3xl font-bold text-slate-900">What You’ll Gain</h2>
                  <ul className="mt-6 space-y-4">
                    {service.detail.benefits.map((benefit) => (
                      <li key={benefit} className="flex items-start gap-3">
                        <span className="mt-2 h-2.5 w-2.5 flex-shrink-0 rounded-full bg-blue-600"></span>
                        <span className="text-lg text-slate-700 leading-relaxed">{benefit}</span>
                      </li>
                    ))}
                  </ul>
                </div>
                <div>
                  <h2 className="text-2xl md:text-3xl font-bold text-slate-900">Outcomes You Can Expect</h2>
                  <ul className="mt-6 grid gap-4 md:grid-cols-2">
                    {service.detail.outcomes.map((outcome) => (
                      <li
                        key={outcome}
                        className="bg-white border border-slate-200 rounded-2xl p-5 shadow-sm flex items-start gap-3"
                      >
                        <span className="mt-1 text-blue-600" aria-hidden="true">
                          ✓
                        </span>
                        <span className="text-base text-slate-700 leading-relaxed">{outcome}</span>
                      </li>
                    ))}
                  </ul>
                </div>
                <div className="grid gap-10 lg:grid-cols-3 lg:items-start">
                  <div className="lg:col-span-2 space-y-6">
                    <h2 className="text-2xl md:text-3xl font-bold text-slate-900">How We Work Together</h2>
                    <ol className="mt-6 space-y-4">
                      {service.detail.process.map((step, index) => (
                        <li
                          key={step.title}
                          className="flex items-start gap-4 bg-white border border-slate-200 rounded-2xl p-5 shadow-sm"
                        >
                          <span className="flex h-9 w-9 items-center justify-center rounded-full bg-blue-600 text-white font-semibold text-lg">
                            {String(index + 1).padStart(2, '0')}
                          </span>
                          <div>
                            <h3 className="text-lg font-semibold text-slate-900">{step.title}</h3>
                            <p className="mt-2 text-slate-700 leading-relaxed">{step.description}</p>
                          </div>
                        </li>
                      ))}
                    </ol>
                  </div>
                  <aside className="bg-blue-50 border border-blue-100 rounded-2xl p-6 shadow-sm space-y-4">
                    <h3 className="text-lg font-semibold text-blue-900">Built for St. Johns County</h3>
                    <p className="text-slate-700 leading-relaxed">{service.detail.localFocus}</p>
                  </aside>
                </div>
                <div className="bg-white border border-slate-200 rounded-2xl p-6 md:p-10 shadow-lg text-center">
                  <p className="text-lg text-slate-700 leading-relaxed max-w-3xl mx-auto">{service.detail.closing}</p>
                  <Link
                    to="/#booking"
                    className="mt-6 inline-flex items-center justify-center bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:bg-blue-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 focus-visible:ring-offset-white"
                  >
                    Book a Free Insight Audit
                  </Link>
                </div>
              </div>
            </section>
          </main>
          <Footer />
        </div>
      );
    };

    const HomePage = () => {
      const caseStudyRef = useRef(null);
      const servicesRef = useRef(null);
      const bookingRef = useRef(null);

      const scrollToSection = useCallback((ref) => {
        if (ref && ref.current) {
          ref.current.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      }, []);

      const handleScrollToCases = useCallback(() => scrollToSection(caseStudyRef), [scrollToSection]);
      const handleScrollToServices = useCallback(() => scrollToSection(servicesRef), [scrollToSection]);
      const handleScrollToBooking = useCallback(() => scrollToSection(bookingRef), [scrollToSection]);

      const navButtonClasses =
        'inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 focus-visible:ring-offset-white rounded';

      return (
        <div className="min-h-screen flex flex-col bg-gray-50">
          <SiteHeader>
            <button type="button" onClick={handleScrollToCases} className={navButtonClasses}>
              Case Studies
            </button>
            <button type="button" onClick={handleScrollToServices} className={navButtonClasses}>
              Services
            </button>
            <button type="button" onClick={handleScrollToBooking} className={navButtonClasses}>
              Book a Call
            </button>
          </SiteHeader>
          <Hero onCtaClick={handleScrollToServices} />
          <main>
            <div ref={caseStudyRef}>
              <CaseStudyCarousel />
            </div>
            <div ref={servicesRef}>
              <Services items={servicesData} />
            </div>
            <Booking ref={bookingRef} />
          </main>
          <Footer />
        </div>
      );
    };

    const App = () => (
      <HashRouter>
        <ScrollManager />
        <Routes>
          <Route path="/" element={<HomePage />} />
          <Route path="/services/:slug" element={<ServiceDetailPage />} />
          <Route path="*" element={<NotFoundPage />} />
        </Routes>
      </HashRouter>
    );

    // React 18 root API
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
