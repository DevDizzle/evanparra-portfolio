--- 
import SiteHeader from '../components/SiteHeader.astro';
import Footer from '../components/Footer.astro';
import ChatWidget from '../components/ChatWidget';

interface Props {
  title: string;
  description: string;
  image?: string;
  type?: string;
  showHeader?: boolean;
  showFooter?: boolean;
}

const { 
  title, 
  description, 
  image = "/assets/evan-parra-og-image.png",
  type = "website",
  showHeader = true,
  showFooter = true
} = Astro.props;

const structuredData = {
  '@context': 'https://schema.org',
  '@graph': [
    {
      '@type': 'ProfessionalService',
      '@id': 'https://evanparra.ai/#org',
      name: 'Evan Parra â€” Fractional AI Engineer',
      description: 'Your fractional AI engineer. $4,500/month. No contract. I embed in your business and build the automations you need.',
      url: 'https://evanparra.ai',
      telephone: '+19046156418',
      email: 'admin@evanparra.ai',
      priceRange: '$4,500/month',
      address: {
        '@type': 'PostalAddress',
        addressLocality: 'St. Augustine',
        addressRegion: 'FL',
        addressCountry: 'US'
      },
      areaServed: [
        { '@type': 'Country', name: 'United States' },
        { '@type': 'State', name: 'Florida' }
      ],
      sameAs: ['https://www.linkedin.com/in/evanparra']
    },
    {
      '@type': 'Person',
      '@id': 'https://evanparra.ai/#person',
      name: 'Evan Parra',
      jobTitle: 'Fractional AI Engineer',
      url: 'https://evanparra.ai',
      sameAs: ['https://www.linkedin.com/in/evanparra'],
      worksFor: { '@id': 'https://evanparra.ai/#org' }
    }
  ]
};
--- 

<!DOCTYPE html>
<html lang="en" class="h-full">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="canonical" href={Astro.url.href} />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <!-- OpenGraph -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={image} />
    <meta property="og:type" content={type} />
    <meta property="og:url" content={Astro.url.href} />

    <!-- Font Awesome -->
    <script
      src="https://kit.fontawesome.com/58a6f7883b.js"
      crossorigin="anonymous"
    ></script>

    <!-- Structured Data -->
    <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />

    <slot name="head" />
  </head>
  <body class="flex flex-col min-h-screen bg-slate-50 text-slate-900 font-sans leading-normal">
    {showHeader && <SiteHeader />}
    <div class="flex-grow">
      <slot />
    </div>
    {showFooter && <Footer />}
    <ChatWidget client:load />
  </body>
</html>