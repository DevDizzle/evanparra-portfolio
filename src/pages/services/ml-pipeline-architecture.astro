---
import BaseLayout from '../../layouts/BaseLayout.astro';
import SectionHeading from '../../components/SectionHeading.astro';

const title = "ML Pipeline Architecture | Evan Parra";
const description = "Production-grade machine learning systems that scale. I design and build end-to-end ML pipelines on GCP.";

const structuredData = {
  '@context': 'https://schema.org',
  '@type': 'Service',
  name: 'ML Pipeline Architecture',
  description: description,
  provider: {
    '@type': 'Person',
    name: 'Evan Parra',
    url: 'https://evanparra.ai'
  },
  areaServed: 'US',
  hasOfferCatalog: {
    '@type': 'OfferCatalog',
    name: 'Machine Learning Engineering Services',
    itemListElement: [
      {
        '@type': 'Offer',
        itemOffered: {
          '@type': 'Service',
          name: 'End-to-end ML Pipeline Design'
        }
      },
      {
        '@type': 'Offer',
        itemOffered: {
          '@type': 'Service',
          name: 'Model Serving Infrastructure'
        }
      }
    ]
  }
};
---

<BaseLayout title={title} description={description}>
  <script type="application/ld+json" set:html={JSON.stringify(structuredData)} slot="head" />
  <!-- Hero -->
  <section class="bg-gradient-to-br from-slate-900 via-slate-800 to-primary-900 text-white py-24 md:py-32 relative overflow-hidden">
    <div class="absolute inset-0 bg-[url('/grid.svg')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"></div>
    <div class="container relative z-10">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl md:text-6xl font-bold leading-tight mb-6">ML Pipeline Architecture</h1>
        <p class="text-xl md:text-2xl text-slate-300">Production-grade machine learning systems that scale.</p>
      </div>
    </div>
  </section>

  <!-- The Problem -->
  <section class="py-20 bg-white">
    <div class="container">
      <SectionHeading title="The Problem" align="center" />
      <div class="max-w-3xl mx-auto text-lg text-slate-600 space-y-4">
        <p>Most ML projects die in notebooks. Models that work locally fail in production. Data pipelines break silently. Teams waste months rebuilding infrastructure instead of shipping features.</p>
      </div>
    </div>
  </section>

  <!-- The Solution -->
  <section class="py-20 bg-slate-50">
    <div class="container">
      <SectionHeading title="The Solution" align="center" />
      <div class="max-w-3xl mx-auto mt-8">
        <p class="text-lg text-slate-600 mb-8 text-center">I design and build end-to-end ML pipelines on GCP that actually work:</p>
        <ul class="grid gap-4 md:grid-cols-2">
          {[
            "Data ingestion from any source (APIs, databases, streaming)",
            "Feature engineering with proper versioning",
            "Model training with experiment tracking",
            "Automated retraining and monitoring",
            "Serving infrastructure (batch or real-time)"
          ].map(item => (
            <li class="flex items-start bg-white p-4 rounded-lg shadow-sm">
              <span class="text-primary-600 mr-3">âœ“</span>
              {item}
            </li>
          ))}
        </ul>
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section class="py-20 bg-white">
    <div class="container">
      <SectionHeading title="How It Works" align="center" />
      <div class="max-w-4xl mx-auto mt-12 grid gap-8 md:grid-cols-4">
        {[
          { title: "Discovery Call", desc: "Understand your data, models, and business goals" },
          { title: "Architecture Design", desc: "Blueprint the pipeline with clear milestones" },
          { title: "Build & Deploy", desc: "Implement on GCP (BigQuery, Vertex AI, Cloud Functions)" },
          { title: "Handoff & Documentation", desc: "Your team owns it, fully documented" }
        ].map((step, i) => (
          <div class="relative">
            <div class="text-6xl font-bold text-slate-100 absolute -top-4 -left-4 -z-10">{i + 1}</div>
            <h3 class="text-xl font-bold text-slate-900 mb-2">{step.title}</h3>
            <p class="text-slate-600">{step.desc}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Tech Stack -->
  <section class="py-20 bg-slate-900 text-white">
    <div class="container">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold">Tech Stack</h2>
      </div>
      <div class="flex flex-wrap justify-center gap-4 max-w-4xl mx-auto">
        {[
          "Google Cloud Platform", "BigQuery", "Vertex AI", "Cloud Functions", "Cloud Run",
          "Python", "pandas", "scikit-learn", "TensorFlow/PyTorch",
          "Airflow / Cloud Workflows", "MLflow", "Terraform"
        ].map(tech => (
          <span class="px-4 py-2 bg-slate-800 rounded-full border border-slate-700 text-slate-300">
            {tech}
          </span>
        ))}
      </div>
    </div>
  </section>

  <!-- Related Posts -->
  <section class="py-20 bg-white">
    <div class="container">
      <SectionHeading title="Related Posts" align="center" />
      <div class="max-w-3xl mx-auto mt-8 text-center">
         <a href="/blog" class="text-primary-600 hover:text-primary-700 underline font-medium">Check out existing posts on the blog</a>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-24 bg-primary-600 text-white text-center">
    <div class="container">
      <h2 class="text-3xl md:text-4xl font-bold mb-6">Ready to ship ML that works?</h2>
      <a href="https://calendar.app.google/CjhZR1dr31gkfhCQ8" class="inline-block bg-white text-primary-600 px-8 py-4 rounded-xl font-bold text-lg hover:bg-slate-100 transition-colors shadow-lg">
        Book a System Design Review
      </a>
    </div>
  </section>
</BaseLayout>
